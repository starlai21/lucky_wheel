{"version":3,"sources":["webpack:///./src/assets/img/lucky-whell/go.png","webpack:///./src/assets/img/lucky-whell/bean_one.png","webpack:///./src/components/luckWheel.vue?dae7","webpack:///./src/components/wheel/wheel.vue?0637","webpack:///src/components/wheel/wheel.vue","webpack:///./src/components/wheel/wheel.vue?e9fb","webpack:///./src/components/wheel/wheel.vue","webpack:///./src/components/wheel/index.js","webpack:///./node_modules/vue-xlsx/dist/components/XlsxWorkbook.js","webpack:///./node_modules/vue-xlsx/dist/components/XlsxSheet.js","webpack:///./node_modules/vue-xlsx/dist/components/XlsxDownload.js","webpack:///src/components/luckWheel.vue","webpack:///./src/components/luckWheel.vue?b218","webpack:///./src/components/luckWheel.vue","webpack:///./src/components/luckWheel.vue?7561","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/speak-tts/lib/utils.js","webpack:///./src/components/wheel/wheel.vue?1187","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/core-js/internals/array-fill.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./node_modules/core-js/modules/es.array.fill.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./node_modules/speak-tts/lib/speak-tts.js"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","$t","slot","key","on","showDrawer","_v","_s","visible","onClose","_l","sheet","data","name","scopedSlots","_u","fn","ref","download","dataSource","addItemAuto","delItemByKey","clearAll","updateSource","directives","rawName","value","expression","showEmpty","staticClass","openNotification","item","url","go","staticRenderFns","style","width","height","transform","rotateAngle","transition","rotateTransition","index","_calcRotateAngle","_t","props","prizeList","type","Array","required","prizeBgColors","default","borderColor","String","turnsNumber","Number","turnsTime","startRotateDegree","methods","initData","ctx","translate","canvasH","rotate","Math","PI","clearRect","canvasW","strokeStyle","prizeBgColorsIndex","fillStyle","length","beginPath","arc","outRadius","angle","baseAngle","innerRadius","stroke","fill","save","setTimeout","mounted","component","Wheel","WorkbookHandler","libLoaded","loading","getWorkbook","$emit","_callbackQueue","isArray","forEach","cb","_workbook","e","console","warning","push","script","mixins","addSheet","deleteSheet","load","globalPolyfill","utils","book_new","book_append_sheet","_book_new","_book_append_sheet","sheetName","Sheets","SheetNames","filter","s","undefined","h","$slots","normalizeComponent","template","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","hook","options","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","originalRender","existing","beforeCreate","concat","normalizeComponent_1","__vue_script__","__vue_inject_styles__","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","XlsxWorkbook","typeFinder","Object","collectionValidator","collection","reduce","a","c","inject","includes","computed","watch","readyToParse","immediate","parseCollection","aoa_to_sheet","json_to_sheet","_aoa_to_sheet","_json_to_sheet","wb","lib","array","object","_sheet","XlsxSheet","filename","disableWrapperClick","Boolean","loaded","writeFile","_writeFile","$scopedSlots","click","XlsxDownload","components","ItemList","isRunning","speech","weightList","total","element","random","i","$refs","childWheel","$notification","config","placement","top","open","duration","message","prizeInfo","description","subtitle","icon","speak","handleRandomItem","randomItem","handleClearCache","$confirm","title","content","okText","okType","cancelText","onOk","initSpeech","get","deep","handler","$nextTick","beforeDestroy","destroy","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","replace","start","end","trim","defineProperty","isObject","isNil","isNan","size","isString","validateLocale","splitSentences","text","arguments","split","map","sentence","bcp47LocalePattern","locale","test","isNaN","prototype","toString","setPrototypeOf","dummy","Wrapper","NewTarget","NewTargetPrototype","constructor","toObject","toAbsoluteIndex","toLength","O","argumentsLength","endPos","DESCRIPTORS","global","isForced","redefine","has","classof","inheritIfRequired","toPrimitive","fails","create","getOwnPropertyNames","f","getOwnPropertyDescriptor","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","code","it","charCodeAt","NaN","slice","parseInt","NumberWrapper","valueOf","keys","j","$","addToUnscopables","target","proto","$map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","forced","callbackfn","_utils","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","SpeakTTS","browserSupport","window","synthesisVoice","_this","conf","Promise","resolve","reject","listeners","lang","volume","rate","pitch","voice","listener","newListener","speechSynthesis","_loadVoices","then","voices","setLanguage","setVoice","setVolume","setRate","setPitch","setSplitSentences","catch","getVoices","_this2","remainingAttempts","_fetchVoices","error","find","v","parseFloat","_this3","_data$listeners","_data$queue","queue","msg","cancel","utterances","sentences","isLast","utterance","SpeechSynthesisUtterance","lastUtterance","pending","paused","speaking","pause","resume","_default"],"mappings":"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","file":"js/chunk-1f382b3e.2b464725.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/go.b819b1a3.png\";","module.exports = __webpack_public_path__ + \"img/bean_one.84279a9a.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-page-header',{staticStyle:{\"border\":\"1px solid rgb(235, 237, 240)\"},attrs:{\"title\":_vm.$t('luckWheel.header.title'),\"sub-title\":_vm.$t('luckWheel.header.subtitle')}},[_c('template',{slot:\"extra\"},[_c('a-button',{key:\"1\",attrs:{\"icon\":\"setting\",\"type\":\"primary\"},on:{\"click\":_vm.showDrawer}},[_vm._v(\" \"+_vm._s(_vm.$t('luckWheel.header.st'))+\" \")])],1)],2),_c('a-drawer',{attrs:{\"title\":_vm.$t('luckWheel.listTitle'),\"placement\":\"right\",\"closable\":false,\"visible\":_vm.visible,\"width\":\"50%\"},on:{\"close\":_vm.onClose}},[_c('xlsx-workbook',[_vm._l((_vm.sheets),function(sheet){return _c('xlsx-sheet',{key:sheet.key,attrs:{\"collection\":sheet.data,\"sheet-name\":sheet.name}})}),_c('xlsx-download',{attrs:{\"filename\":\"luck_draw.xlsx\",\"disable-wrapper-click\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar download = ref.download;\nreturn [_c('a-button',{key:\"2\",staticStyle:{\"margin\":\"10px auto\"},attrs:{\"type\":\"default\",\"icon\":\"cloud-download\",\"shape\":\"round\"},on:{\"click\":download}},[_vm._v(\" \"+_vm._s(_vm.$t('home.downTem'))+\" \")])]}}])})],2),_c('item-list',{ref:\"ilst\",attrs:{\"data-source\":_vm.dataSource,\"add-item-auto\":_vm.addItemAuto,\"del-item-by-key\":_vm.delItemByKey,\"clear-all\":_vm.clearAll,\"update-source\":_vm.updateSource}})],1),_c('a-empty',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showEmpty),expression:\"showEmpty\"}]}),_c('div',{attrs:{\"id\":\"wheel\",\"hidden\":_vm.showEmpty}},[_c('div',{staticClass:\"big-wheel-box\"},[_c('wheel',{ref:\"childWheel\",attrs:{\"width\":\"35rem\",\"height\":\"35rem\",\"prizeList\":_vm.dataSource},on:{\"over\":_vm.openNotification},scopedSlots:_vm._u([{key:\"item\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"prize-name\"},[_vm._v(_vm._s(item.name))]),_c('img',{staticClass:\"prize-img\",staticStyle:{\"border-radius\":\"5px\"},attrs:{\"src\":item.url ? item.url : require('@/assets/img/lucky-whell/bean_one.png')}})]}}])}),_c('img',{staticClass:\"btn-go\",attrs:{\"src\":require('@/assets/img/lucky-whell/go.png')},on:{\"click\":_vm.go}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"bigWheel\",staticClass:\"__big-wheel\",style:({width: _vm.width, height: _vm.height})},[_c('div',{staticClass:\"wrap\",style:({transform: _vm.rotateAngle, transition: _vm.rotateTransition})},[_c('canvas',{ref:\"canvas\",attrs:{\"id\":\"canvas\"}},[_vm._v(\"浏览器版本过低\")]),_c('div',{staticClass:\"prize-wrap\"},_vm._l((_vm.prizeList),function(item,index){return _c('div',{key:index,staticClass:\"item\",style:(_vm._calcRotateAngle(index))},[_vm._t(\"item\",null,{\"item\":item})],2)}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- 幸运大转盘 -->\r\n<template>\r\n  <div class=\"__big-wheel\" ref=\"bigWheel\" :style=\"{width, height}\">\r\n    <div class=\"wrap\" :style=\"{transform: rotateAngle, transition: rotateTransition}\">\r\n      <canvas id=\"canvas\" ref=\"canvas\">浏览器版本过低</canvas>\r\n      <div class=\"prize-wrap\">\r\n        <div\r\n          class=\"item\"\r\n          v-for=\"(item,index) in prizeList\"\r\n          :key=\"index\"\r\n          :style=\"_calcRotateAngle(index)\">\r\n          <slot name=\"item\" :item=\"item\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Wheel',\r\n  props: {\r\n    prizeList: { // 奖品列表\r\n      type: Array,\r\n      required: true\r\n    },\r\n    width: {\r\n      required: true\r\n    },\r\n    height: {\r\n      required: true\r\n    },\r\n    prizeBgColors: { // 每一块扇形的背景色，循环填充\r\n      type: Array,\r\n      default: () => ['#F52D4B', '#FEE9ED']\r\n    },\r\n    borderColor: { // 每一块扇形的外边框颜色\r\n      type: String,\r\n      default: '#F23544'\r\n    },\r\n    turnsNumber: { // 转动的圈数\r\n      type: Number,\r\n      default: 6\r\n    },\r\n    turnsTime: { // 转动持续时间（秒）\r\n      type: Number,\r\n      default: 5\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      startRotateDegree: 0, // 开始转动的角度\r\n      rotateAngle: 'rotate(30deg)', // 设置指针默认指向的位置,现在是默认指向1个扇形中间，设置为0即指向两个扇形之间的线上\r\n      rotateTransition: ''\r\n    }\r\n  },\r\n  methods: {\r\n    // 初始化canvas\r\n    initData() {\r\n      const prizeNum = this.prizeList.length\r\n      const prizeBgColors = this.prizeBgColors\r\n      const borderColor = this.borderColor\r\n      // 绘画\r\n      const canvas = this.$refs.canvas\r\n      const ctx = canvas.getContext('2d')\r\n      const canvasW = this.$refs.canvas.width = this.$refs.bigWheel.clientWidth // 画板的高度\r\n      const canvasH = this.$refs.canvas.height = this.$refs.bigWheel.clientHeight // 画板的宽度\r\n\r\n      // translate方法重新映射画布上的 (0,0) 位置\r\n      ctx.translate(0, canvasH)\r\n\r\n      // rotate方法旋转当前的绘图，因为文字是和当前扇形中心线垂直的\r\n      ctx.rotate(-90 * Math.PI / 180)\r\n\r\n      // 圆环的外圆的半径,可用来调整圆盘大小来适应外部盒子的大小\r\n      const outRadius = canvasW / 2 - 1\r\n\r\n      const innerRadius = 0 // 圆环的内圆的半径\r\n\r\n      const baseAngle = Math.PI * 2 / prizeNum // 每个奖项所占角度数\r\n\r\n      ctx.clearRect(0, 0, canvasW, canvasH) // 去掉背景默认色\r\n\r\n      ctx.strokeStyle = borderColor // 设置画图线的颜色\r\n\r\n      let prizeBgColorsIndex = -1\r\n      for (let index = 0; index < prizeNum; index++) {\r\n        const angle = index * baseAngle\r\n\r\n        // 设置每个扇形区域的背景色，循环填充\r\n        prizeBgColorsIndex++\r\n        ctx.fillStyle = prizeBgColors[prizeBgColorsIndex]\r\n        if (prizeBgColorsIndex === prizeBgColors.length - 1) {\r\n          prizeBgColorsIndex = -1\r\n        }\r\n\r\n        ctx.beginPath() // 开始绘制\r\n        // 标准圆弧：arc(x,y,radius,startAngle,endAngle,anticlockwise)\r\n        ctx.arc(canvasW * 0.5, canvasH * 0.5, outRadius, angle, angle + baseAngle, false)\r\n        ctx.arc(canvasW * 0.5, canvasH * 0.5, innerRadius, angle + baseAngle, angle, true)\r\n        ctx.stroke()\r\n        ctx.fill()\r\n        ctx.save()\r\n      }\r\n    },\r\n    /**\r\n     * 圆盘转动方法\r\n     * @param {number} index - 中奖的奖品序号\r\n     */\r\n    rotate(index) {\r\n      const turnsTime = this.turnsTime\r\n      const rotateAngle = this.startRotateDegree + this.turnsNumber * 360 + 360 - (180 / this.prizeList.length + 360 / this.prizeList.length * index) - this.startRotateDegree % 360\r\n      this.startRotateDegree = rotateAngle\r\n      this.rotateAngle = `rotate(${rotateAngle}deg)`\r\n      this.rotateTransition = `transform ${turnsTime}s cubic-bezier(0.250, 0.460, 0.455, 0.995)`\r\n      setTimeout(() => {\r\n        this.$emit('over', this.prizeList[index])\r\n      }, turnsTime * 1000 + 500)\r\n    },\r\n    // 根据index计算每一个奖品扇形要旋转的角度样式\r\n    _calcRotateAngle(index) {\r\n      const angle = 360 / this.prizeList.length * index + (180 / this.prizeList.length)\r\n      return {\r\n        transform: `rotate(${angle}deg)`\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.initData()\r\n  },\r\n}\r\n\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.__big-wheel {\r\n  position: relative;\r\n  display: inline-block;\r\n  .wrap {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    .prize-wrap {\r\n      position: absolute;\r\n      left: 25%;\r\n      top: 0;\r\n      width: 50%;\r\n      height: 50%;\r\n      .item {\r\n        position: absolute;\r\n        left: 0;\r\n        top: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        transform-origin: center bottom;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wheel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wheel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./wheel.vue?vue&type=template&id=7d7bbcbe&scoped=true&\"\nimport script from \"./wheel.vue?vue&type=script&lang=js&\"\nexport * from \"./wheel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./wheel.vue?vue&type=style&index=0&id=7d7bbcbe&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d7bbcbe\",\n  null\n  \n)\n\nexport default component.exports","import Wheel from './wheel.vue'\r\n\r\nexport default Wheel\r\n","var WorkbookHandler = {\n  data() {\n    return {\n      libLoaded: false,\n      loading: false\n    };\n  },\n  provide() {\n    return {\n      getWorkbook: this.getWorkbook\n    };\n  },\n  methods: {\n    startLoading() {\n      this.loading = true;\n      this.$emit(\"loading\", this.loading);\n    },\n    endLoading() {\n      this.loading = false;\n      this.$emit(\"loading\", this.loading);\n    },\n    fireCallBacks() {\n      if (this._callbackQueue && Array.isArray(this._callbackQueue)) {\n        this._callbackQueue.forEach(cb => {\n          try {\n            cb(this._workbook);\n          } catch (e) {\n            console.warning(\"error in firing callbacks\", e);\n          }\n        });\n      }\n    },\n    getWorkbook(cb) {\n      if (this._callbackQueue) {\n        this._callbackQueue.push(cb);\n      }\n      if (this._workbook) {\n        cb(this._workbook);\n      }\n    }\n  }\n};\n\nvar script = {\n  mixins: [WorkbookHandler],\n  provide() {\n    return {\n      addSheet: this.addSheet,\n      deleteSheet: this.deleteSheet\n    };\n  },\n  mounted() {\n    this.load();\n  },\n  methods: {\n    async load() {\n      const { globalPolyfill } = require(\"../polyfills\");\n      globalPolyfill();\n      const {\n        utils: { book_new, book_append_sheet }\n      } = await import('xlsx');\n      this._book_new = book_new;\n      this._book_append_sheet = book_append_sheet;\n      this._workbook = this._book_new();\n      this.$emit(\"created\", this._workbook);\n      this.libLoaded = true;\n    },\n    addSheet(sheet, sheetName) {\n      if (this._workbook) {\n        this.deleteSheet(sheetName);\n        this._book_append_sheet(this._workbook, sheet, sheetName);\n        this.$emit(\"change\", this._workbook);\n      }\n    },\n    deleteSheet(sheetName) {\n      if (this._workbook && this._workbook.Sheets[sheetName]) {\n        this._workbook.SheetNames = this._workbook.SheetNames.filter(\n          s => s !== sheetName\n        );\n        this._workbook.Sheets[sheetName] = undefined;\n        this.$emit(\"change\", this._workbook);\n      }\n    }\n  },\n  render(h) {\n    if (this.$slots.default && this.libLoaded) {\n      return h(\"div\", this.$slots.default);\n    }\n    return null;\n  }\n};\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier\n/* server only */\n, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n  if (typeof shadowMode !== 'boolean') {\n    createInjectorSSR = createInjector;\n    createInjector = shadowMode;\n    shadowMode = false;\n  } // Vue.extend constructor export interop.\n\n\n  var options = typeof script === 'function' ? script.options : script; // render functions\n\n  if (template && template.render) {\n    options.render = template.render;\n    options.staticRenderFns = template.staticRenderFns;\n    options._compiled = true; // functional template\n\n    if (isFunctionalTemplate) {\n      options.functional = true;\n    }\n  } // scopedId\n\n\n  if (scopeId) {\n    options._scopeId = scopeId;\n  }\n\n  var hook;\n\n  if (moduleIdentifier) {\n    // server build\n    hook = function hook(context) {\n      // 2.3 injection\n      context = context || // cached call\n      this.$vnode && this.$vnode.ssrContext || // stateful\n      this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext; // functional\n      // 2.2 with runInNewContext: true\n\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__;\n      } // inject component styles\n\n\n      if (style) {\n        style.call(this, createInjectorSSR(context));\n      } // register component module identifier for async chunk inference\n\n\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier);\n      }\n    }; // used by ssr in case component is cached and beforeCreate\n    // never gets called\n\n\n    options._ssrRegister = hook;\n  } else if (style) {\n    hook = shadowMode ? function () {\n      style.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n    } : function (context) {\n      style.call(this, createInjector(context));\n    };\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // register for functional component in vue file\n      var originalRender = options.render;\n\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context);\n        return originalRender(h, context);\n      };\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate;\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n    }\n  }\n\n  return script;\n}\n\nvar normalizeComponent_1 = normalizeComponent;\n\n/* script */\nconst __vue_script__ = script;\n\n/* template */\n\n  /* style */\n  const __vue_inject_styles__ = undefined;\n  /* scoped */\n  const __vue_scope_id__ = undefined;\n  /* module identifier */\n  const __vue_module_identifier__ = undefined;\n  /* functional template */\n  const __vue_is_functional_template__ = undefined;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n\n  \n  var XlsxWorkbook = normalizeComponent_1(\n    {},\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    undefined,\n    undefined\n  );\n\nexport default XlsxWorkbook;\n","const typeFinder = value =>\n  value instanceof Array ? \"array\" : value instanceof Object ? \"object\" : false;\n\nconst collectionValidator = collection => {\n  return collection.reduce((a, c) => {\n    if (a === null) {\n      return typeFinder(c);\n    } else {\n      return typeFinder(c) === a ? a : false;\n    }\n  }, null);\n};\n\nvar script = {\n  inject: [\"getWorkbook\", \"addSheet\", \"deleteSheet\"],\n  props: {\n    sheetName: {\n      type: String,\n      required: true\n    },\n    collection: {\n      type: Array,\n      default: null,\n      validator(value) {\n        if (value && value.length > 0) {\n          const type = collectionValidator(value);\n          return [\"array\", \"object\"].includes(type);\n        }\n        return true;\n      }\n    }\n  },\n  data() {\n    return {\n      libLoaded: false\n    };\n  },\n  computed: {\n    readyToParse() {\n      return this.libLoaded ? this.collection : null;\n    }\n  },\n  watch: {\n    readyToParse: {\n      immediate: true,\n      handler(collection) {\n        if (collection) {\n          this.parseCollection(collection);\n        }\n      }\n    }\n  },\n  mounted() {\n    this.load();\n  },\n  beforeDestroy() {\n    this.deleteSheet(this.sheetName);\n  },\n  methods: {\n    async load() {\n      const {\n        utils: { aoa_to_sheet, json_to_sheet }\n      } = await import('xlsx');\n      this._aoa_to_sheet = aoa_to_sheet;\n      this._json_to_sheet = json_to_sheet;\n      this.libLoaded = true;\n      this.getWorkbook(wb => {\n        this._workbook = wb;\n      });\n    },\n    parseCollection(collection) {\n      const type = typeFinder(collection[0]);\n      const lib = {\n        array: this._aoa_to_sheet,\n        object: this._json_to_sheet\n      };\n      this._sheet = lib[type](collection, this.options);\n      this.$emit(\"parsed\", this._sheet);\n      this.addSheet(this._sheet, this.sheetName);\n    }\n  },\n  render(h) {\n    if (this.$slots.default && this.libLoaded) {\n      return h(\"div\", this.$slots.default);\n    }\n    return null;\n  }\n};\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier\n/* server only */\n, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n  if (typeof shadowMode !== 'boolean') {\n    createInjectorSSR = createInjector;\n    createInjector = shadowMode;\n    shadowMode = false;\n  } // Vue.extend constructor export interop.\n\n\n  var options = typeof script === 'function' ? script.options : script; // render functions\n\n  if (template && template.render) {\n    options.render = template.render;\n    options.staticRenderFns = template.staticRenderFns;\n    options._compiled = true; // functional template\n\n    if (isFunctionalTemplate) {\n      options.functional = true;\n    }\n  } // scopedId\n\n\n  if (scopeId) {\n    options._scopeId = scopeId;\n  }\n\n  var hook;\n\n  if (moduleIdentifier) {\n    // server build\n    hook = function hook(context) {\n      // 2.3 injection\n      context = context || // cached call\n      this.$vnode && this.$vnode.ssrContext || // stateful\n      this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext; // functional\n      // 2.2 with runInNewContext: true\n\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__;\n      } // inject component styles\n\n\n      if (style) {\n        style.call(this, createInjectorSSR(context));\n      } // register component module identifier for async chunk inference\n\n\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier);\n      }\n    }; // used by ssr in case component is cached and beforeCreate\n    // never gets called\n\n\n    options._ssrRegister = hook;\n  } else if (style) {\n    hook = shadowMode ? function () {\n      style.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n    } : function (context) {\n      style.call(this, createInjector(context));\n    };\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // register for functional component in vue file\n      var originalRender = options.render;\n\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context);\n        return originalRender(h, context);\n      };\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate;\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n    }\n  }\n\n  return script;\n}\n\nvar normalizeComponent_1 = normalizeComponent;\n\n/* script */\nconst __vue_script__ = script;\n\n/* template */\n\n  /* style */\n  const __vue_inject_styles__ = undefined;\n  /* scoped */\n  const __vue_scope_id__ = undefined;\n  /* module identifier */\n  const __vue_module_identifier__ = undefined;\n  /* functional template */\n  const __vue_is_functional_template__ = undefined;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n\n  \n  var XlsxSheet = normalizeComponent_1(\n    {},\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    undefined,\n    undefined\n  );\n\nexport default XlsxSheet;\n","var script = {\n  inject: [\"getWorkbook\"],\n  props: {\n    filename: {\n      type: String,\n      default: \"my-workbook.xlsx\"\n    },\n    options: {\n      type: Object,\n      default: () => ({})\n    },\n    disableWrapperClick: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      loaded: false\n    };\n  },\n  mounted() {\n    this.load();\n  },\n  watch: {\n    loaded: {\n      immediate: true,\n      handler(loaded) {\n        if (loaded) {\n          this.getWorkbook(wb => {\n            this._workbook = wb;\n          });\n        }\n      }\n    }\n  },\n  methods: {\n    async load() {\n      const { writeFile } = await import('xlsx');\n      this._writeFile = writeFile;\n      this.loaded = true;\n    },\n    download() {\n      this._writeFile(this._workbook, this.filename, this.options);\n    }\n  },\n  render(h) {\n    if (this.$scopedSlots.default && this.loaded) {\n      return h(\n        \"div\",\n        {\n          on: {\n            click: this.disableWrapperClick ? () => {} : this.download\n          }\n        },\n        [\n          this.$scopedSlots.default({\n            download: this.download\n          })\n        ]\n      );\n    }\n    return null;\n  }\n};\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier\n/* server only */\n, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n  if (typeof shadowMode !== 'boolean') {\n    createInjectorSSR = createInjector;\n    createInjector = shadowMode;\n    shadowMode = false;\n  } // Vue.extend constructor export interop.\n\n\n  var options = typeof script === 'function' ? script.options : script; // render functions\n\n  if (template && template.render) {\n    options.render = template.render;\n    options.staticRenderFns = template.staticRenderFns;\n    options._compiled = true; // functional template\n\n    if (isFunctionalTemplate) {\n      options.functional = true;\n    }\n  } // scopedId\n\n\n  if (scopeId) {\n    options._scopeId = scopeId;\n  }\n\n  var hook;\n\n  if (moduleIdentifier) {\n    // server build\n    hook = function hook(context) {\n      // 2.3 injection\n      context = context || // cached call\n      this.$vnode && this.$vnode.ssrContext || // stateful\n      this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext; // functional\n      // 2.2 with runInNewContext: true\n\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__;\n      } // inject component styles\n\n\n      if (style) {\n        style.call(this, createInjectorSSR(context));\n      } // register component module identifier for async chunk inference\n\n\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier);\n      }\n    }; // used by ssr in case component is cached and beforeCreate\n    // never gets called\n\n\n    options._ssrRegister = hook;\n  } else if (style) {\n    hook = shadowMode ? function () {\n      style.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n    } : function (context) {\n      style.call(this, createInjector(context));\n    };\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // register for functional component in vue file\n      var originalRender = options.render;\n\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context);\n        return originalRender(h, context);\n      };\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate;\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n    }\n  }\n\n  return script;\n}\n\nvar normalizeComponent_1 = normalizeComponent;\n\n/* script */\nconst __vue_script__ = script;\n\n/* template */\n\n  /* style */\n  const __vue_inject_styles__ = undefined;\n  /* scoped */\n  const __vue_scope_id__ = undefined;\n  /* module identifier */\n  const __vue_module_identifier__ = undefined;\n  /* functional template */\n  const __vue_is_functional_template__ = undefined;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n\n  \n  var XlsxDownload = normalizeComponent_1(\n    {},\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    undefined,\n    undefined\n  );\n\nexport default XlsxDownload;\n","<template>\r\n  <div>\r\n    <a-page-header style=\"border: 1px solid rgb(235, 237, 240)\" :title=\"$t('luckWheel.header.title')\"\r\n      :sub-title=\"$t('luckWheel.header.subtitle')\">\r\n      <template slot=\"extra\">\r\n        <!-- <a-button key=\"3\" icon=\"sync\" @click=\"handleRandomItem\">\r\n          {{ $t('luckWheel.header.rr') }}\r\n        </a-button> -->\r\n        <!-- <a-button key=\"2\" icon=\"minus-circle\"> -->\r\n        <!-- </a-button> -->\r\n        <a-button key=\"1\" icon=\"setting\" type=\"primary\" @click=\"showDrawer\">\r\n          {{  $t('luckWheel.header.st')  }}\r\n        </a-button>\r\n      </template>\r\n    </a-page-header>\r\n\r\n    <a-drawer :title=\"$t('luckWheel.listTitle')\" placement=\"right\" :closable=\"false\" :visible=\"visible\" width=\"50%\"\r\n      @close=\"onClose\">\r\n      <xlsx-workbook>\r\n        <xlsx-sheet :collection=\"sheet.data\" v-for=\"sheet in sheets\" :key=\"sheet.key\" :sheet-name=\"sheet.name\" />\r\n        <xlsx-download filename=\"luck_draw.xlsx\" disable-wrapper-click>\r\n          <template #default=\"{ download }\">\r\n            <a-button key=\"2\" type=\"default\" style=\"margin: 10px auto\" icon=\"cloud-download\" shape=\"round\"\r\n              @click=\"download\">\r\n              {{  $t('home.downTem')  }}\r\n            </a-button>\r\n          </template>\r\n        </xlsx-download>\r\n      </xlsx-workbook>\r\n      <item-list :data-source=\"dataSource\" :add-item-auto=\"addItemAuto\" :del-item-by-key=\"delItemByKey\"\r\n        :clear-all=\"clearAll\" :update-source=\"updateSource\" ref=\"ilst\"></item-list>\r\n    </a-drawer>\r\n\r\n    <a-empty v-show=\"showEmpty\" />\r\n    <div id=\"wheel\" :hidden=\"showEmpty\">\r\n      <div class=\"big-wheel-box\">\r\n        <wheel width=\"35rem\" height=\"35rem\" ref=\"childWheel\" :prizeList=\"dataSource\" @over=\"openNotification\">\r\n          <template v-slot:item=\"{ item }\">\r\n            <div class=\"prize-name\">{{  item.name  }}</div>\r\n            <img class=\"prize-img\" :src=\"item.url ? item.url : require('@/assets/img/lucky-whell/bean_one.png')\"\r\n              style=\"border-radius: 5px\">\r\n          </template>\r\n        </wheel>\r\n\r\n        <img class=\"btn-go\" @click=\"go\" :src=\"require('@/assets/img/lucky-whell/go.png')\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Button, PageHeader, Drawer, Input, Icon, Tooltip, Empty } from 'ant-design-vue'\r\nimport Wheel from '@/components/wheel'\r\nimport ItemList from './list/itemList'\r\nimport { mapState, mapMutations } from 'vuex'\r\nimport { XlsxWorkbook, XlsxSheet, XlsxDownload } from 'vue-xlsx'\r\nimport Speech from 'speak-tts'\r\n\r\nexport default {\r\n  name: 'LuckWheel',\r\n  components: {\r\n    ItemList,\r\n    XlsxWorkbook,\r\n    XlsxSheet,\r\n    XlsxDownload,\r\n    Wheel,\r\n    [Empty.name]: Empty,\r\n    [PageHeader.name]: PageHeader,\r\n    [Button.name]: Button,\r\n    [Drawer.name]: Drawer,\r\n    [Input.name]: Input,\r\n    [Icon.name]: Icon,\r\n    [Tooltip.name]: Tooltip\r\n  },\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      isRunning: false,\r\n      speech: null,\r\n    }\r\n  },\r\n  methods: {\r\n    // 开始转动\r\n    go() {\r\n      if (this.isRunning) {\r\n        return\r\n      } else {\r\n        this.isRunning = true\r\n      }\r\n\r\n      let weightList = this.dataSource.map(e => e.prob || 0)\r\n      let total = 0\r\n      weightList.forEach(element => {\r\n        total += element\r\n      });\r\n\r\n      let random = Math.random() * total\r\n\r\n      let index = 0 \r\n\r\n      for(let i=0, len=weightList.length; i<len; i++){\r\n        random -= weightList[i]\r\n        if(random <=0){\r\n          index = i\r\n          break\r\n        }\r\n      }\r\n      // 转动转盘\r\n      this.$refs.childWheel.rotate(index)\r\n    },\r\n    // 转盘转完事件\r\n    openNotification(prizeInfo) {\r\n      this.isRunning = false\r\n      this.$notification.config({\r\n        placement: 'topLeft',\r\n        top: '120px'\r\n      })\r\n      this.$notification.open({\r\n        duration: null,\r\n        message: \"恭喜你！获得 \" + prizeInfo.name,\r\n        description: prizeInfo.subtitle,\r\n        icon: <a-icon type=\"smile\" style=\"color: #108ee9\" />,\r\n      });\r\n\r\n      this.speech.speak({text: \"恭喜你！获得 \" + prizeInfo.name + prizeInfo.subtitle})\r\n    },\r\n    showDrawer() {\r\n      this.visible = true;\r\n    },\r\n    onClose() {\r\n      this.visible = false;\r\n    },\r\n    handleRandomItem() {\r\n      this.randomItem()\r\n    },\r\n    handleClearCache() {\r\n      this.$confirm({\r\n        title: this.$t('list.clCache'),\r\n        content: this.$t('list.content'),\r\n        okText: this.$t('list.okText'),\r\n        okType: 'danger',\r\n        cancelText: this.$t('list.cancelText'),\r\n        onOk: () => {\r\n\r\n        }\r\n      })\r\n    },\r\n    initSpeech(){\r\n        this.speech = new Speech\r\n        this.speech.setLanguage('zh-CN')\r\n        this.speech.init()\r\n    },\r\n    ...mapMutations('luckWheelM', ['randomItem', 'addItemAuto', 'delItemByKey', 'clearAll', 'updateSource'])\r\n  },\r\n  computed: {\r\n    showEmpty: {\r\n      get() {\r\n        return this.dataSource.length === 0 ? true : false\r\n      }\r\n    },\r\n    ...mapState('luckWheelM', ['dataSource', 'sheets'])\r\n  },\r\n  watch: {\r\n    dataSource: {\r\n      deep: true,\r\n      immediate: true,\r\n      handler: function () {\r\n        this.$nextTick(() => {\r\n          this.$refs.childWheel.initData()\r\n        })\r\n      }\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    this.$notification.destroy()\r\n  },\r\n  mounted(){\r\n    this.initSpeech()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scope>\r\n#wheel {\r\n  position: relative;\r\n  overflow: hidden;\r\n  width: 100vw;\r\n  min-height: 200vh;\r\n  background-repeat: no-repeat;\r\n  background-position: center top;\r\n  background-size: 100%;\r\n\r\n  .big-wheel-box {\r\n    position: absolute;\r\n    top: 1.7rem;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    text-align: center;\r\n    font-size: 0;\r\n    background-image: url('~@/assets/img/lucky-whell/disk_bg.png');\r\n    background-repeat: no-repeat;\r\n    background-position: center;\r\n    background-size: 100%;\r\n    padding: 3.5rem;\r\n\r\n    .prize-name {\r\n      position: relative;\r\n      //display: block;\r\n      left: .13rem;\r\n      right: .13rem;\r\n      top: 2rem;\r\n      //width: 0.1rem;\r\n      //word-wrap:break-word;\r\n      //word-break:normal;\r\n      font-size: 1.3rem;\r\n      font-weight: bolder;\r\n      text-align: center;\r\n      color: orange;\r\n    }\r\n\r\n    .prize-img {\r\n      position: absolute;\r\n      top: 5rem;\r\n      left: 50%;\r\n      transform: translateX(-50%);\r\n      max-width: 5rem;\r\n      max-height: 5rem;\r\n    }\r\n\r\n    .btn-go {\r\n      position: absolute;\r\n      top: 40%;\r\n      left: 50%;\r\n      transform: translateX(-50%);\r\n      width: 20%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./luckWheel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./luckWheel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./luckWheel.vue?vue&type=template&id=3b3d44fe&\"\nimport script from \"./luckWheel.vue?vue&type=script&lang=js&\"\nexport * from \"./luckWheel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./luckWheel.vue?vue&type=style&index=0&lang=scss&scope=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./luckWheel.vue?vue&type=style&index=0&lang=scss&scope=true&\"","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.trim = exports.isObject = exports.isNil = exports.isNan = exports.size = exports.isString = exports.validateLocale = exports.splitSentences = void 0;\n\nvar splitSentences = function splitSentences() {\n  var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return text.replace(/\\.+/g, '.|').replace(/\\?/g, '?|').replace(/\\!/g, '!|').split(\"|\").map(function (sentence) {\n    return trim(sentence);\n  }).filter(Boolean);\n};\n\nexports.splitSentences = splitSentences;\nvar bcp47LocalePattern = /^(?:(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))$|^((?:[a-z]{2,3}(?:(?:-[a-z]{3}){1,3})?)|[a-z]{4}|[a-z]{5,8})(?:-([a-z]{4}))?(?:-([a-z]{2}|\\d{3}))?((?:-(?:[\\da-z]{5,8}|\\d[\\da-z]{3}))*)?((?:-[\\da-wy-z](?:-[\\da-z]{2,8})+)*)?(-x(?:-[\\da-z]{1,8})+)?$|^(x(?:-[\\da-z]{1,8})+)$/i; // eslint-disable-line max-len\n\n/**\n * Validate a locale string to test if it is bcp47 compliant\n * @param {String} locale The tag locale to parse\n * @return {Boolean} True if tag is bcp47 compliant false otherwise\n */\n\nvar validateLocale = function validateLocale(locale) {\n  return typeof locale !== 'string' ? false : bcp47LocalePattern.test(locale);\n};\n\nexports.validateLocale = validateLocale;\n\nvar isString = function isString(value) {\n  return typeof value === 'string' || value instanceof String;\n};\n\nexports.isString = isString;\n\nvar size = function size(value) {\n  return value && Array.isArray(value) && value.length ? value.length : 0;\n};\n\nexports.size = size;\n\nvar isNan = function isNan(value) {\n  return typeof value === \"number\" && isNaN(value);\n};\n\nexports.isNan = isNan;\n\nvar isNil = function isNil(value) {\n  return value === null || value === undefined;\n};\n\nexports.isNil = isNil;\n\nvar isObject = function isObject(value) {\n  return Object.prototype.toString.call(value) === '[object Object]';\n};\n\nexports.isObject = isObject;\n\nvar trim = function trim(value) {\n  return isString(value) ? value.trim() : '';\n};\n\nexports.trim = trim;","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wheel.vue?vue&type=style&index=0&id=7d7bbcbe&lang=scss&scoped=true&\"","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.es/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _utils = require(\"./utils\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SpeakTTS =\n/*#__PURE__*/\nfunction () {\n  function SpeakTTS() {\n    _classCallCheck(this, SpeakTTS);\n\n    this.browserSupport = 'speechSynthesis' in window && 'SpeechSynthesisUtterance' in window;\n    this.synthesisVoice = null;\n  }\n\n  _createClass(SpeakTTS, [{\n    key: \"init\",\n    value: function init() {\n      var _this = this;\n\n      var conf = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return new Promise(function (resolve, reject) {\n        if (!_this.browserSupport) {\n          reject('Your browser does not support Speech Synthesis');\n        }\n\n        var listeners = (0, _utils.isNil)(conf.listeners) ? {} : conf.listeners;\n        var splitSentences = (0, _utils.isNil)(conf.splitSentences) ? true : conf.splitSentences;\n        var lang = (0, _utils.isNil)(conf.lang) ? undefined : conf.lang;\n        var volume = (0, _utils.isNil)(conf.volume) ? 1 : conf.volume;\n        var rate = (0, _utils.isNil)(conf.rate) ? 1 : conf.rate;\n        var pitch = (0, _utils.isNil)(conf.pitch) ? 1 : conf.pitch;\n        var voice = (0, _utils.isNil)(conf.voice) ? undefined : conf.voice; // Attach event listeners\n\n        Object.keys(listeners).forEach(function (listener) {\n          var fn = listeners[listener];\n\n          var newListener = function newListener(data) {\n            fn && fn(data);\n          };\n\n          if (listener !== 'onvoiceschanged') {\n            speechSynthesis[listener] = newListener;\n          }\n        });\n\n        _this._loadVoices().then(function (voices) {\n          // Handle callback onvoiceschanged by hand\n          listeners['onvoiceschanged'] && listeners['onvoiceschanged'](voices); // Initialize values if necessary\n\n          !(0, _utils.isNil)(lang) && _this.setLanguage(lang);\n          !(0, _utils.isNil)(voice) && _this.setVoice(voice);\n          !(0, _utils.isNil)(volume) && _this.setVolume(volume);\n          !(0, _utils.isNil)(rate) && _this.setRate(rate);\n          !(0, _utils.isNil)(pitch) && _this.setPitch(pitch);\n          !(0, _utils.isNil)(splitSentences) && _this.setSplitSentences(splitSentences);\n          resolve({\n            voices: voices,\n            lang: _this.lang,\n            voice: _this.voice,\n            volume: _this.volume,\n            rate: _this.rate,\n            pitch: _this.pitch,\n            splitSentences: _this.splitSentences,\n            browserSupport: _this.browserSupport\n          });\n        }).catch(function (e) {\n          reject(e);\n        });\n      });\n    }\n  }, {\n    key: \"_fetchVoices\",\n    value: function _fetchVoices() {\n      return new Promise(function (resolve, reject) {\n        setTimeout(function () {\n          var voices = speechSynthesis.getVoices();\n\n          if ((0, _utils.size)(voices) > 0) {\n            return resolve(voices);\n          } else {\n            return reject(\"Could not fetch voices\");\n          }\n        }, 100);\n      });\n    }\n  }, {\n    key: \"_loadVoices\",\n    value: function _loadVoices() {\n      var _this2 = this;\n\n      var remainingAttempts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n      return this._fetchVoices().catch(function (error) {\n        if (remainingAttempts === 0) throw error;\n        return _this2._loadVoices(remainingAttempts - 1);\n      });\n    }\n  }, {\n    key: \"hasBrowserSupport\",\n    value: function hasBrowserSupport() {\n      return this.browserSupport;\n    }\n  }, {\n    key: \"setVoice\",\n    value: function setVoice(voice) {\n      var synthesisVoice;\n      var voices = speechSynthesis.getVoices(); // set voice by name\n\n      if ((0, _utils.isString)(voice)) {\n        synthesisVoice = voices.find(function (v) {\n          return v.name === voice;\n        });\n      } // Set the voice in conf if found\n\n\n      if ((0, _utils.isObject)(voice)) {\n        synthesisVoice = voice;\n      }\n\n      if (synthesisVoice) {\n        this.synthesisVoice = synthesisVoice;\n      } else {\n        throw 'Error setting voice. The voice you passed is not valid or the voices have not been loaded yet.';\n      }\n    }\n  }, {\n    key: \"setLanguage\",\n    value: function setLanguage(lang) {\n      lang = lang.replace('_', '-'); // some Android versions seem to ignore BCP 47 and use an underscore character in language tag\n\n      if ((0, _utils.validateLocale)(lang)) {\n        this.lang = lang;\n      } else {\n        throw 'Error setting language. Please verify your locale is BCP47 format (http://schneegans.de/lv/?tags=es-FR&format=text)';\n      }\n    }\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(volume) {\n      volume = parseFloat(volume);\n\n      if (!(0, _utils.isNan)(volume) && volume >= 0 && volume <= 1) {\n        this.volume = volume;\n      } else {\n        throw 'Error setting volume. Please verify your volume value is a number between 0 and 1.';\n      }\n    }\n  }, {\n    key: \"setRate\",\n    value: function setRate(rate) {\n      rate = parseFloat(rate);\n\n      if (!(0, _utils.isNan)(rate) && rate >= 0 && rate <= 10) {\n        this.rate = rate;\n      } else {\n        throw 'Error setting rate. Please verify your volume value is a number between 0 and 10.';\n      }\n    }\n  }, {\n    key: \"setPitch\",\n    value: function setPitch(pitch) {\n      pitch = parseFloat(pitch);\n\n      if (!(0, _utils.isNan)(pitch) && pitch >= 0 && pitch <= 2) {\n        this.pitch = pitch;\n      } else {\n        throw 'Error setting pitch. Please verify your pitch value is a number between 0 and 2.';\n      }\n    }\n  }, {\n    key: \"setSplitSentences\",\n    value: function setSplitSentences(splitSentences) {\n      this.splitSentences = splitSentences;\n    }\n  }, {\n    key: \"speak\",\n    value: function speak(data) {\n      var _this3 = this;\n\n      return new Promise(function (resolve, reject) {\n        var text = data.text,\n            _data$listeners = data.listeners,\n            listeners = _data$listeners === void 0 ? {} : _data$listeners,\n            _data$queue = data.queue,\n            queue = _data$queue === void 0 ? true : _data$queue;\n        var msg = (0, _utils.trim)(text);\n        if ((0, _utils.isNil)(msg)) resolve(); // Stop current speech\n\n        !queue && _this3.cancel(); // Split into sentences (for better result and bug with some versions of chrome)\n\n        var utterances = [];\n        var sentences = _this3.splitSentences ? (0, _utils.splitSentences)(msg) : [msg];\n        sentences.forEach(function (sentence, index) {\n          var isLast = index === (0, _utils.size)(sentences) - 1;\n          var utterance = new SpeechSynthesisUtterance();\n          if (_this3.synthesisVoice) utterance.voice = _this3.synthesisVoice;\n          if (_this3.lang) utterance.lang = _this3.lang;\n          if (_this3.volume) utterance.volume = _this3.volume; // 0 to 1\n\n          if (_this3.rate) utterance.rate = _this3.rate; // 0.1 to 10\n\n          if (_this3.pitch) utterance.pitch = _this3.pitch; //0 to 2\n\n          utterance.text = sentence; // Attach event listeners\n\n          Object.keys(listeners).forEach(function (listener) {\n            var fn = listeners[listener];\n\n            var newListener = function newListener(data) {\n              fn && fn(data);\n\n              if (listener === 'onerror') {\n                reject({\n                  utterances: utterances,\n                  lastUtterance: utterance,\n                  error: data\n                });\n              }\n\n              if (listener === 'onend') {\n                if (isLast) resolve({\n                  utterances: utterances,\n                  lastUtterance: utterance\n                });\n              }\n            };\n\n            utterance[listener] = newListener;\n          });\n          utterances.push(utterance);\n          speechSynthesis.speak(utterance);\n        });\n      });\n    }\n  }, {\n    key: \"pending\",\n    value: function pending() {\n      return speechSynthesis.pending;\n    }\n  }, {\n    key: \"paused\",\n    value: function paused() {\n      return speechSynthesis.paused;\n    }\n  }, {\n    key: \"speaking\",\n    value: function speaking() {\n      return speechSynthesis.speaking;\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      speechSynthesis.pause();\n    }\n  }, {\n    key: \"resume\",\n    value: function resume() {\n      speechSynthesis.resume();\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      speechSynthesis.cancel();\n    }\n  }]);\n\n  return SpeakTTS;\n}();\n\nvar _default = SpeakTTS;\nexports.default = _default;"],"sourceRoot":""}